CREATE TABLE user
(
	id int NOT NULL PRIMARY KEY AUTO_INCREMENT,
	name varchar(100) NOT NULL,
	login varchar(40) NOT NULL,
	email varchar(60) NOT NULL UNIQUE,
	password varchar(40) NOT NULL
)

CREATE TABLE posts
(
	id int NOT NULL PRIMARY KEY AUTO_INCREMENT,
	content LONGTEXT,
	type int NOT NULL,
	author_id int NOT NULL
	FOREIGN KEY posts(author_id) REFERENCES user(id)
)

CREATE VIEW vwposts AS
select
	posts.id AS post_id,
	posts.content AS post_content,
	posts.type AS post_type,
	posts.date AS post_date,
	posts.classification AS post_classification,
	posts.privacity AS post_privacity,
	posts.picture AS post_picture,
	user.id AS user_id,
	user.name AS user_name,
	user.picture AS user_picture,
	post_types.name AS post_type_name,
	post_types.id AS post_type_id
from posts
inner join user
	on posts.author_id = user.id
inner join post_types
	on posts.type = post_types.id


CREATE VIEW Profile AS SELECT user.id as id, user.name as name, user.username as username, user.picture as picture, user.email as email FROM user

INSERT INTO user (name, login, email, password)
VALUES ('Diego Mi Campos', 'diegomi', 'diegomister@gmail.com', '1234');

CREATE VIEW vwfriend AS
select
	user.id AS friend_id,
	user.name AS friend_name,
	user.username AS friend_username,
	user.picture AS friend_picture,
	user.email AS friend_email,
	friend.user_id as user_id
from user
inner join friend
	on user.id = friend.friend_id